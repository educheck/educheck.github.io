 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css?family=Mukta&display=swap" rel="stylesheet"> <!-- Google Fonts - Mukta, By Ek Type-->
    <link rel="icon" href="/educheck.ico">
    <title>EduCheck</title>
    <style> /* CSS */
        @font-face { font-family: 'CookierunB'; src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_twelve@1.0/CookieRunOTF-Bold00.woff') format('woff'); font-weight: normal; font-style: normal; } /* CookieRun Bold */
        @font-face { font-family: 'CookierunL'; src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/CookieRun-Regular.woff') format('woff'); font-weight: normal; font-style: normal; } /* CookieRUn Regular */
        #config {
            width: 65px;
            position: absolute;
            bottom: 5px;
            right: 3px;
            z-index: 3;
        }
        #confighoverimg {
            width: 200px;
            display: none;
        }
        #user {
            width: 55px;
            position: absolute;
            top: 10px;
            right: 3px;
            z-index: 3;
        }
        #usermsg {
            width: 200px;
            display: none;
            position: absolute;
            top: 20px;
            right: 64px;
        }
        .useronclick {
            width: 80vw;
            height: 70vh;
            background-color: rgb(24, 221, 211);
            position: absolute;
            left: 10vw;
            top: 15vh;
            display: none;
            z-index: 3;
            text-align: center;
        }
        .pagelock {
            /*width:100vw;
            height: 100vh;*/
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(109, 105, 105, 0.198);
            z-index: 2;
            display: none;
        }
        .close {
            width: 35px;
            position: absolute;
            right: 3px;
            top: 5px;
        }
        .close:hover {
            cursor: pointer;
        }
        .font {
            font-family: 'Mukta', 'CookierunB', sans-serif;
        }
        #welcome {
            text-align: center;
        }
        #firsttime {
            background: rgb(221, 221, 221);
            text-align: center;
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 9;
        }
        .startbutton {
            display: block;
            border-radius: 8px;
            background-color: #3faf30;
            border: none;
            color: #FFFFFF;
            font-size: 1.3em;
            text-align: center;
            width: 100px;
            height: 39px;
            transition: all 0.5s;
            cursor: pointer;
            margin: 5px auto;
          }
          
          .startbutton span {
            cursor: pointer;
            display: inline-block;
            position: relative;
            transition: 0.5s;
            vertical-align: middle;
          }
          
          .startbutton span:after {
            content: '\00bb';
            position: absolute;
            opacity: 0;
            top: 0;
            right: -20px;
            transition: 0.5s;
          }
          
          .startbutton:hover span {
            padding-right: 25px;
          }
          
          .startbutton:hover span:after {
            opacity: 1;
            right: 0;
          }
          a:link {
            color: mediumturquoise;
            
          }
          a:visited {
              color:mediumpurple;
          }
          a:hover {
              background-color: rgba(204, 248, 187, 0.76);
              transition: 0.5s;
          }
          .light {
              font-family: 'CookierunL';
          }
    </style>
</head>
<body>
    
    <div id="header">
        
        <img id="user" src="/user.png">
        <h1 class="font" id="welcome"></h1>
        <div id="usersign">
            <img id="usermsg" src="/user-msg.png">
        </div>
        <div id="useronclick" class="useronclick light" style="font-size: 1.5em;">
            <h1>클라이언트 정보&nbsp;&nbsp;&nbsp;&nbsp;</h1>
            <abbr title="Close"><img class="close" id="userclose" src="/close.png"></abbr>
            <div id="clientinfotext">
                <p id="ip">IP 주소 : </p>
                <p id="browser">UserAgent 정보 : </p>
                <p id="loc">URL 정보 : </p>
                <p id="lang">국가 코드 : </p>
                <p id="appname">앱 패키지 이름 : </p>
                <p id="engine">브라우저 엔진 : </p>
            </div>
        </div>
        <div id="pagelock" class="pagelock"></div>
    </div>
    <div id="firsttime" class="light" style="font-size: 1.5em;">
        <h1>EduCheck</h1>
        <h3>새로 오셨습니다. 아래 기본 정보를 입력하여 계속하세요.</h3>
        <p style="color:mediumturquoise; cursor: pointer; text-decoration: underline;">또는 여기를 눌러 데이터를 변환하세요.</p>
        <h4>언어/Language</h4>
        <form id="langform"><select name="lang" id="langcheck"><option value="x"></option><option value="ko">한국어</option><option value="en">English</option></select></form>
        <br>
        <h4>사용자 이름<form id="formuser"><input id="firstname" name="user"></form></h4>
        <h4>나이
            <form>
                  <select name="age" id="selectage">
                    <option value="unselected">입력</option>
                    <option value="5">5-6세</option>
                    <option value="6">6-7세</option>
                  </select>
            </form>
        </h4>
        <form><input type="checkbox" id="termsagree" name="tos"><label for="agree">&nbsp;저는 <a href="https://www.privacypolicies.com/terms/view/ab18e81a7a1a46eac0241290312bce6c">이용 약관</a>, <a href="https://www.privacypolicies.com/privacy/view/f3795e86c8e00d25e60d8f4a94cae792">개인정보 취급방침</a>에 동의합니다.</label><br><input type="checkbox" name="cp" id="cookieagree"><label for="cp"> 저는 EduCheck이 <a href="https://www.privacypolicies.com/agreement/view/28850a75fd646ff98f343c99a1828b7e">쿠키를 사용하는 것과</a> <a href="https://www.privacypolicies.com/agreement/view/ebfd6aec6d6cba24b299a6c833a1320b">이 사이트를 이용하는 도중 생기는 위험</a>을 감수합니다.</label></form>
        <div class="startbutton" style="vertical-align:middle" id="startbutton"><span>시작 </span></div>
    </div>
    <!-- Main -->
        <div id="number">
            <img id="numberimg">
        </div>
    <!-- Main End -->
    <div id="footer">
        <!-- Thanks to Iconfinder!! -->
        <img id="config" src="/config.png">
        <div id="sign">
            <img id="confighoverimg" src="/config-msg.png">
        </div>
        <div id="configclick" class="useronclick">
            <h1>설정&nbsp;&nbsp;&nbsp;&nbsp;</h1>
            <abbr title="Close"><img class="close" id="configclose" src="/close.png"></abbr>
            <h3>사용자 이름: <form id="userform"><input id="userinput" name="user"> <button id="userconfirm">Confirm</button></form></h3>
            <h3>나이: 
                <form id="ageselect">
                    <select name="age" id="selec">
                        <option value="unselected">입력</option>
                        <option value="5">5-6세</option>
                        <option value="6">6-7세</option>
                    </select>
                </form>
            </h3>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script> <!-- jQuery -->
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script> <!-- js-cookie -->
    <script> // JavaScript
        // -User Start-
        var user = document.getElementById('user');
        var usermsg = document.getElementById('usermsg');
        function userhover() {
            usermsg.style.display = "block";
        }
        function userhoverout() {
            usermsg.style.display = "none";
        }
        var config = document.getElementById('config');
        var configmsg = document.getElementById('confighoverimg');
        function confighover() {
            configmsg.style.display = "block";
            configmsg.style.position = "absolute";
            configmsg.style.bottom = "20px";
            configmsg.style.right = "64px";
        }
        function confighoverout() {
            configmsg.style.display = "none";
        }
        config.addEventListener("mouseover", confighover);
        config.addEventListener("mouseout", confighoverout);
        user.addEventListener("mouseover", userhover);
        user.addEventListener("mouseout", userhoverout);
        var useropened = false;
        var configopened = false;
        var close = document.getElementById('userclose');
        var close2 = document.getElementById('configclose');
        function recheck() {
            document.getElementById('pagelock').style.width = $(document).width() - 16 + "px";
            document.getElementById('pagelock').style.height = window.innerHeight + "px";
            recalc();
        }
        function recalc() {
            setTimeout(recheck, 1);
        }
        user.onclick = function() {
            if (useropened == false) {
                document.getElementById('useronclick').style.display = "block";
                document.getElementById('pagelock').style.display = "block";
                useropened = true;
                config.style.zIndex = "1";
                recheck();
                
            }
            else {
                document.getElementById('useronclick').style.display = "none";
                document.getElementById('pagelock').style.display = "none";
                useropened = false;
                config.style.zIndex = "3";
            }
        }
        config.onclick = function() {
            if (configopened == false) {
                document.getElementById('configclick').style.display = "block";
                document.getElementById('pagelock').style.display = "block";
                configopened = true;
                user.style.zIndex = "1";
                recheck();
            }
            else {
                document.getElementById('configclick').style.display = "none";
                document.getElementById('pagelock').style.display = "none";
                configopened = false;
                user.style.zIndex = "3";
            }
        }
        close.onclick = function() {
            document.getElementById('useronclick').style.display = "none";
            document.getElementById('pagelock').style.display = "none";
            useropened = false;
            config.style.zIndex = "1";   
        }
        close2.onclick = function() {
            document.getElementById('configclick').style.display = "none";
            document.getElementById('pagelock').style.display = "none";
            configopened = false;
            user.style.zIndex = "3";
        }
    </script>
    <script> // Thanks to ip.pe.kr!!!
        $.ajax({
            url: "https://api.ip.pe.kr/"
        }).done(function(data) {
                $("#ip").html("IP 주소 :" + data);
        });
        document.getElementById('browser').textContent = "UserAgent 정보 : " + window.navigator.userAgent;
        document.getElementById('loc').textContent = "URL 정보 : " + location.href;
        document.getElementById('lang').textContent = "국가 코드 : " + window.navigator.language;
        $("#appname").html("앱 패키지 이름 : " + window.navigator.appName);
        $("#engine").html("브라우저 엔진 : " + window.navigator.product);
        document.getElementById('clientinfotext').style.width = "80vw";
        document.getElementById('clientinfotext').style.height = "53vh";
        document.getElementById('clientinfotext').style.overflow = "auto";
    </script>
    <script> // js-cookie
        //textbox preset start
        var aplaceholder;
        if (Cookies.get('username') !== "undefined") {
            aplaceholder = Cookies.get('username');
        }
        else {
            aplaceholder = "이름을 입력하세요.";
        }
        document.getElementById('userinput').style.placeholder = aplaceholder;
        //textbox preset end
        document.getElementById("userconfirm").onclick = function() {
            var name = document.getElementById('userform').user.value;
            document.getElementById('welcome').textContent = name + "님, 반갑습니다!";
            Cookies.set('username', name, {expires: 7300});
            return false;
        }
    </script>
    <script> // Welcome
        var usrnme = Cookies.get('username');
        document.getElementById('welcome').textContent = usrnme + "님, 반갑습니다!";
    </script>
    <script>
        document.getElementById('selec').onchange = function() {
            var selected = document.getElementById('selec').value;
            if (selected != "unselected") {
                Cookies.set('age', selected, {expires: 7300});
            }
            return false;
        }
    </script>
    <script>
        if (Cookies.get('visitedbefore') == 'yes') {
            Cookies.set('visitedbefore', 'yes', {expires: 7300});
            document.getElementById('firsttime').style.display = "none";
        }
        else {
            document.getElementById('firsttime').style.display = "block";
        }
        document.getElementById('startbutton').onclick = function() {
            var formuserstr = document.getElementById('formuser').user.value.toString()

            if (document.getElementById('termsagree').checked && document.getElementById('cookieagree').checked) {
                if (document.getElementById('langcheck').value != 'x') {
                    if (/\s/.test(document.getElementById('formuser').user.value)) {
                        window.alert('사용자 이름은 공백, Tab 스페이스, Enter ↳을 포함해서는 안 됩니다. 또한 4글자 이상이어야 합니다.')
                    }
                    else {
                        if (document.getElementById('selectage').value != 'unselected') {
                            Cookies.set('visitedbefore', 'yes', {expires: 7300});
                            Cookies.set('username', document.getElementById('formuser').user.value, {expires: 7300});
                            Cookies.set('age', document.getElementById('selectage').value, {expires: 7300});
                            Cookies.set('lang', document.getElementById('langform').value, {expires: 7300});
                            document.getElementById('firsttime').style.display = "none";
                        }
                        else {
                            window.alert('올바른 나이를 입력하세요.')
                        }
                    }
                }
                else {
                    window.alert('올바른 언어를 입력하세요.');
                }
            }
            else {
                window.alert('모든 체크박스에 체크했는지 확인해 주세요.');
            }
        }
    </script>
    <script>
        var langimg = document.getElementById('numberimg');
        function showimgperlang() {
        }
    </script>
</body>
</html>
